# SÆ¡ Ä‘á»“ Kiáº¿n trÃºc Sidebar CTSS

## ğŸ“Š Tá»•ng quan Cáº¥u trÃºc

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SIDEBAR COMPONENT                        â”‚
â”‚  (components/layout/Sidebar.tsx)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚         DATA STRUCTURE                 â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚  MENU_ITEMS: MenuItemData[]     â”‚  â”‚
        â”‚  â”‚  - key: string                  â”‚  â”‚
        â”‚  â”‚  - label: string                â”‚  â”‚
        â”‚  â”‚  - path: string                 â”‚  â”‚
        â”‚  â”‚  - group: string                â”‚  â”‚
        â”‚  â”‚  - icon: IconComponent           â”‚  â”‚
        â”‚  â”‚  - roles: CTSSRole[]             â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚                                         â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚  GROUP_ICONS: Record<string>    â”‚  â”‚
        â”‚  â”‚  - "Dashboard" â†’ LayoutDashboardâ”‚  â”‚
        â”‚  â”‚  - "Äáº·t lá»‹ch" â†’ Calendar        â”‚  â”‚
        â”‚  â”‚  - "KhÃ¡ch hÃ ng" â†’ Users         â”‚  â”‚
        â”‚  â”‚  - ...                          â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚      STATE MANAGEMENT                  â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚  expandedGroups: Set<string>    â”‚  â”‚
        â”‚  â”‚  - Tracks which groups are open  â”‚  â”‚
        â”‚  â”‚  - Default: ["Dashboard"]        â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚                                         â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚  isMobileOpen: boolean          â”‚  â”‚
        â”‚  â”‚  - Mobile sidebar toggle        â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚                                         â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚  sidebarOpen: boolean (zustand) â”‚  â”‚
        â”‚  â”‚  - Desktop sidebar toggle        â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚      DATA PROCESSING                   â”‚
        â”‚                                         â”‚
        â”‚  1. Filter by User Roles               â”‚
        â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
        â”‚     â”‚ groupedItems = MENU_ITEMS   â”‚   â”‚
        â”‚     â”‚   .filter(hasAnyRole)       â”‚   â”‚
        â”‚     â”‚   .reduce(groupBy)          â”‚   â”‚
        â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
        â”‚                                         â”‚
        â”‚  2. Sort Groups                        â”‚
        â”‚     visibleGroups = Object.keys()       â”‚
        â”‚                      .sort()            â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚      RENDERING LAYOUT                  â”‚
        â”‚                                         â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
        â”‚  â”‚  <aside> (Sidebar Container)     â”‚ â”‚
        â”‚  â”‚  - flex flex-col                 â”‚ â”‚
        â”‚  â”‚  - fixed left-0 top-0            â”‚ â”‚
        â”‚  â”‚  - h-full w-240px                â”‚ â”‚
        â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
        â”‚  â”‚  â”‚ Header (Logo + Toggle)     â”‚  â”‚ â”‚
        â”‚  â”‚  â”‚ - flex-shrink-0            â”‚  â”‚ â”‚
        â”‚  â”‚  â”‚ - h-header (72px)          â”‚  â”‚ â”‚
        â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
        â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
        â”‚  â”‚  â”‚ <nav> (Menu Container)     â”‚  â”‚ â”‚
        â”‚  â”‚  â”‚ - overflow-y-auto          â”‚  â”‚ â”‚
        â”‚  â”‚  â”‚ - scrollbar-thin           â”‚  â”‚ â”‚
        â”‚  â”‚  â”‚ - h: calc(100vh - 72px)    â”‚  â”‚ â”‚
        â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚ â”‚
        â”‚  â”‚  â”‚ â”‚ <ul> Menu List        â”‚  â”‚  â”‚ â”‚
        â”‚  â”‚  â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚  â”‚ â”‚
        â”‚  â”‚  â”‚ â”‚ â”‚ Group Item      â”‚   â”‚  â”‚  â”‚ â”‚
        â”‚  â”‚  â”‚ â”‚ â”‚ (Accordion)     â”‚   â”‚  â”‚  â”‚ â”‚
        â”‚  â”‚  â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚  â”‚ â”‚
        â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚ â”‚
        â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Data Flow Chi tiáº¿t

### 1. Khá»Ÿi táº¡o Data
```
MENU_ITEMS (Array)
    â”‚
    â”œâ”€â†’ Filter by User Roles
    â”‚       â”‚
    â”‚       â””â”€â†’ hasAnyRole(item.roles)
    â”‚
    â””â”€â†’ Group by Group Name
            â”‚
            â””â”€â†’ groupedItems: Record<string, MenuItemData[]>
                    â”‚
                    â”œâ”€â†’ "Dashboard": [item1, item2]
                    â”œâ”€â†’ "Äáº·t lá»‹ch": [item3]
                    â”œâ”€â†’ "KhÃ¡ch hÃ ng": [item4, item5, item6]
                    â””â”€â†’ ...
```

### 2. Render Logic
```
For each visibleGroups:
    â”‚
    â”œâ”€â†’ If groupItems.length === 1
    â”‚       â”‚
    â”‚       â””â”€â†’ Render Direct Link (no accordion)
    â”‚
    â””â”€â†’ If groupItems.length > 1
            â”‚
            â”œâ”€â†’ Render Group Header (button)
            â”‚       â”‚
            â”‚       â””â”€â†’ onClick â†’ toggleGroup(groupLabel)
            â”‚
            â””â”€â†’ Render Collapsible Content
                    â”‚
                    â”œâ”€â†’ If expandedGroups.has(groupLabel)
                    â”‚       â”‚
                    â”‚       â””â”€â†’ Show: max-h-[500px] opacity-100
                    â”‚
                    â””â”€â†’ Else
                            â”‚
                            â””â”€â†’ Hide: max-h-0 opacity-0
```

## ğŸ“ Layout Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Sidebar (240px width, 100vh height)   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Header (72px height)              â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚ â”‚  CTSS    â”‚  â”‚ Toggle Buttonâ”‚   â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Menu Container                     â”‚ â”‚
â”‚  â”‚ (calc(100vh - 72px) height)       â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚ â”‚ Scrollable Area               â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ â”‚ Dashboard â–¼              â”‚ â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ â”‚   â”œâ”€ Main Dashboard     â”‚ â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ â”‚   â””â”€ CEO Control Tower  â”‚ â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ â”‚ Äáº·t lá»‹ch                â”‚ â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ â”‚ KhÃ¡ch hÃ ng â–¼            â”‚ â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ â”‚   â”œâ”€ CRM Dashboard      â”‚ â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ â”‚   â”œâ”€ Membership         â”‚ â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ â”‚   â””â”€ Personalization    â”‚ â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ â”‚ ...                     â”‚ â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ â”‚ Há»‡ thá»‘ng â–¼              â”‚ â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ â”‚   â”œâ”€ Operations         â”‚ â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ â”‚   â”œâ”€ Training           â”‚ â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ â”‚   â”œâ”€ SOP                â”‚ â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ â”‚   â”œâ”€ Workflow           â”‚ â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ â”‚   â”œâ”€ Partner HQ         â”‚ â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ â”‚   â””â”€ Settings           â”‚ â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ â”‚ AI                      â”‚ â”‚ â”‚ â”‚
â”‚  â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚
â”‚  â”‚ â”‚         â†• Scroll Bar         â”‚ â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ Accordion Behavior

```
State: expandedGroups = Set(["Dashboard", "KhÃ¡ch hÃ ng"])

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Dashboard â–¼ (expanded)                      â”‚
â”‚   â”œâ”€ Main Dashboard                         â”‚
â”‚   â””â”€ CEO Control Tower                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Äáº·t lá»‹ch (single item, no accordion)        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ KhÃ¡ch hÃ ng â–¼ (expanded)                     â”‚
â”‚   â”œâ”€ CRM Dashboard                          â”‚
â”‚   â”œâ”€ Membership                             â”‚
â”‚   â””â”€ Personalization                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Dá»‹ch vá»¥ â–¶ (collapsed)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ...                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Há»‡ thá»‘ng â–¶ (collapsed)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†• Scroll Bar (always visible)
```

## ğŸ”§ Key Components

### 1. MenuItemData Interface
```typescript
interface MenuItemData {
  key: string;        // Unique identifier
  label: string;       // Display text
  path: string;       // Route path
  group: string;      // Group name (for grouping)
  icon: any;          // Lucide icon component
  roles: CTSSRole[];  // Required roles to see this item
  children?: MenuItemData[]; // Optional nested items
}
```

### 2. Group Processing
```typescript
// Step 1: Filter by roles
const filteredItems = MENU_ITEMS.filter(item => 
  hasAnyRole(item.roles)
);

// Step 2: Group by group name
const groupedItems = filteredItems.reduce((acc, item) => {
  if (!acc[item.group]) acc[item.group] = [];
  acc[item.group].push(item);
  return acc;
}, {});

// Step 3: Sort groups
const visibleGroups = Object.keys(groupedItems).sort();
```

### 3. Accordion Toggle
```typescript
const toggleGroup = (groupLabel: string) => {
  const newExpanded = new Set(expandedGroups);
  if (newExpanded.has(groupLabel)) {
    newExpanded.delete(groupLabel);  // Collapse
  } else {
    newExpanded.add(groupLabel);      // Expand
  }
  setExpandedGroups(newExpanded);
};
```

### 4. Scroll Container
```css
/* Container */
nav {
  height: calc(100vh - 72px);
  overflow-y: auto;
  scrollbar-width: thin;  /* Firefox */
}

/* Webkit browsers (Chrome, Safari) */
nav::-webkit-scrollbar {
  width: 6px;
}
nav::-webkit-scrollbar-thumb {
  background-color: rgba(0, 0, 0, 0.2);
  border-radius: 3px;
}
```

## ğŸ¨ Visual States

### Expanded Group
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Dashboard â–¼                 â”‚ â† ChevronDown rotated 180Â°
â”‚   â”œâ”€ Main Dashboard         â”‚
â”‚   â””â”€ CEO Control Tower      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Collapsed Group
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Dá»‹ch vá»¥ â–¶                   â”‚ â† ChevronDown normal
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Active Item
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Main Dashboard              â”‚ â† bg: rgba(255,255,255,0.2)
â”‚                             â”‚   font-semibold
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“± Responsive Behavior

### Desktop (lg:)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Sidebar â”‚  â”‚ Main Content      â”‚
â”‚ (240px) â”‚  â”‚                   â”‚
â”‚         â”‚  â”‚                   â”‚
â”‚         â”‚  â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Mobile
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [â˜°] Main Content           â”‚
â”‚                             â”‚
â”‚                             â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Click [â˜°] â†’ Sidebar slides in from left
```

## ğŸ” Key Features

1. **Fixed Height Container**: `calc(100vh - 72px)` ensures scroll bar always works
2. **Independent Accordions**: Each group expands/collapses independently
3. **Role-based Filtering**: Only shows items user has permission for
4. **Smooth Animations**: CSS transitions for expand/collapse
5. **Scroll Bar Styling**: Custom thin scrollbar for better UX
6. **Single Item Optimization**: Groups with 1 item render as direct link (no accordion)

## ğŸš€ Performance Considerations

- **Memoization**: Could add `useMemo` for groupedItems if needed
- **Virtual Scrolling**: Not needed for current menu size (~30 items)
- **CSS Transitions**: Hardware-accelerated with `transform` and `opacity`

